{% extends "layout.html" %}

{% block title %}
    {{ post.title }}
{% endblock %}

{% block body %}
    <div class="container">
        <h2>{{ post.title }}</h2>
        <p class="meta">By {{ post.author.username }} on {{ post.date_created.strftime('%Y-%m-%d %H:%M') }}</p>
        
        <div style="margin: 2rem 0;">
            {{ post.content }}
        </div>

        {% if 'user_id' in session and session['user_id'] == post.user_id %}
        <div>
            <a href="{{ url_for('edit_post', post_id=post.id) }}">
                <button>Edit Post</button>
            </a>
            <a href="{{ url_for('delete_post', post_id=post.id) }}" 
               onclick="return confirm('Are you sure you want to delete this post?')">
                <button style="background: #dc3545;">Delete Post</button>
            </a>
        </div>
            {% endif %}
        </div>
    </div>
{% endblock %}